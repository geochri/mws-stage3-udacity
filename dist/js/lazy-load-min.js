registerListener("load",setLazy),registerListener("load",lazyLoad),registerListener("scroll",lazyLoad);let lazy=[];function setLazy(){lazy=document.getElementsByClassName("restaurant-img"),console.log("Found "+lazy.length+" lazy images")}function lazyLoad(){for(let t=0;t<lazy.length;t++)isInViewport(lazy[t])&&lazy[t].getAttribute("data-src")&&(lazy[t].src=lazy[t].getAttribute("data-src"),lazy[t].removeAttribute("data-src"));cleanLazy()}function cleanLazy(){lazy=Array.prototype.filter.call(lazy,function(t){return t.getAttribute("data-src")})}function isInViewport(t){let e=t.getBoundingClientRect();return e.bottom>=0&&e.right>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)}function registerListener(t,e){window.addEventListener?window.addEventListener(t,e):window.attachEvent("on"+t,e)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhenktbG9hZC5qcyJdLCJuYW1lcyI6WyJyZWdpc3Rlckxpc3RlbmVyIiwic2V0TGF6eSIsImxhenlMb2FkIiwibGF6eSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJpIiwiaXNJblZpZXdwb3J0IiwiZ2V0QXR0cmlidXRlIiwic3JjIiwicmVtb3ZlQXR0cmlidXRlIiwiY2xlYW5MYXp5IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJmaWx0ZXIiLCJjYWxsIiwibCIsImVsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsInJpZ2h0IiwidG9wIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJsZWZ0IiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiZXZlbnQiLCJmdW5jIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50Il0sIm1hcHBpbmdzIjoiQUFpQkFBLGlCQUFpQixPQUFRQyxTQUN6QkQsaUJBQWlCLE9BQVFFLFVBQ3pCRixpQkFBaUIsU0FBVUUsVUFFM0IsSUFBSUMsUUFFSixTQUFTRixVQUNMRSxLQUFPQyxTQUFTQyx1QkFBdUIsa0JBQ3ZDQyxRQUFRQyxJQUFJLFNBQVdKLEtBQUtLLE9BQVMsZ0JBR3pDLFNBQVNOLFdBQ0wsSUFBSyxJQUFJTyxFQUFJLEVBQUdBLEVBQUlOLEtBQUtLLE9BQVFDLElBQ3pCQyxhQUFhUCxLQUFLTSxLQUNkTixLQUFLTSxHQUFHRSxhQUFhLGNBQ3JCUixLQUFLTSxHQUFHRyxJQUFNVCxLQUFLTSxHQUFHRSxhQUFhLFlBQ25DUixLQUFLTSxHQUFHSSxnQkFBZ0IsYUFJcENDLFlBR0osU0FBU0EsWUFDTFgsS0FBT1ksTUFBTUMsVUFBVUMsT0FBT0MsS0FBS2YsS0FBTSxTQUFVZ0IsR0FDL0MsT0FBT0EsRUFBRVIsYUFBYSxjQUk5QixTQUFTRCxhQUFhVSxHQUNsQixJQUFJQyxFQUFPRCxFQUFHRSx3QkFFZCxPQUFPRCxFQUFLRSxRQUFVLEdBQUtGLEVBQUtHLE9BQVMsR0FBS0gsRUFBS0ksTUFBUUMsT0FBT0MsYUFBZXZCLFNBQVN3QixnQkFBZ0JDLGVBQWlCUixFQUFLUyxPQUFTSixPQUFPSyxZQUFjM0IsU0FBU3dCLGdCQUFnQkksYUFHM0wsU0FBU2hDLGlCQUFpQmlDLEVBQU9DLEdBQ3pCUixPQUFPUyxpQkFDUFQsT0FBT1MsaUJBQWlCRixFQUFPQyxHQUUvQlIsT0FBT1UsWUFBWSxLQUFPSCxFQUFPQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBcInJlcXVpcmUtanNkb2NcIjogW1wiZXJyb3JcIiwge1xuICAgIFwicmVxdWlyZVwiOiB7XG4gICAgICAgIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiOiB0cnVlLFxuICAgICAgICBcIk1ldGhvZERlZmluaXRpb25cIjogZmFsc2UsXG4gICAgICAgIFwiQ2xhc3NEZWNsYXJhdGlvblwiOiBmYWxzZSxcbiAgICAgICAgXCJBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvblwiOiBmYWxzZSxcbiAgICAgICAgXCJGdW5jdGlvbkV4cHJlc3Npb25cIjogZmFsc2VcbiAgICB9XG59XSovXG4vKiBlc2xpbnQgdmFsaWQtanNkb2M6IFwiZXJyb3JcIiovXG4vKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImNvZGVcIjogMjAwIH1dKi9cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNcIjogXCJsb2NhbFwiIH1dKi9cbi8qIGVzbGludCBicmFjZS1zdHlsZTogWzAseyBcImFsbG93U2luZ2xlTGluZVwiOiB0cnVlIH1dKi9cblxuLy8gR2V0IGFsbCBvZiB0aGUgaW1hZ2VzIHRoYXQgYXJlIG1hcmtlZCB1cCB0byBsYXp5IGxvYWRcblxuXG5yZWdpc3Rlckxpc3RlbmVyKCdsb2FkJywgc2V0TGF6eSk7XG5yZWdpc3Rlckxpc3RlbmVyKCdsb2FkJywgbGF6eUxvYWQpO1xucmVnaXN0ZXJMaXN0ZW5lcignc2Nyb2xsJywgbGF6eUxvYWQpO1xuXG5sZXQgbGF6eSA9IFtdO1xuXG5mdW5jdGlvbiBzZXRMYXp5KCkge1xuICAgIGxhenkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdyZXN0YXVyYW50LWltZycpO1xuICAgIGNvbnNvbGUubG9nKCdGb3VuZCAnICsgbGF6eS5sZW5ndGggKyAnIGxhenkgaW1hZ2VzJyk7XG59XG5cbmZ1bmN0aW9uIGxhenlMb2FkKCkge1xuICAgIGZvcihsZXQgaT0wOyBpPGxhenkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYoaXNJblZpZXdwb3J0KGxhenlbaV0pKXtcbiAgICAgICAgICAgIGlmIChsYXp5W2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKSl7XG4gICAgICAgICAgICAgICAgbGF6eVtpXS5zcmMgPSBsYXp5W2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcbiAgICAgICAgICAgICAgICBsYXp5W2ldLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhbkxhenkoKTtcbn1cblxuZnVuY3Rpb24gY2xlYW5MYXp5KCkge1xuICAgIGxhenkgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwobGF6eSwgZnVuY3Rpb24obCl7IHJldHVybiBsLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTt9KTtcbn1cblxuZnVuY3Rpb24gaXNJblZpZXdwb3J0KGVsKSB7XG4gICAgbGV0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIHJlY3QuYm90dG9tID49IDAgJiZcbiAgICAgICAgcmVjdC5yaWdodCA+PSAwICYmXG4gICAgICAgIHJlY3QudG9wIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiZcbiAgICAgICAgcmVjdC5sZWZ0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG4gICAgICk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyTGlzdGVuZXIoZXZlbnQsIGZ1bmMpIHtcbiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmMpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgZnVuYylcbiAgICB9XG59XG4iXSwiZmlsZSI6ImxhenktbG9hZC1taW4uanMifQ==
